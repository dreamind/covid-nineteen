(function(t){function e(e){for(var s,n,o=e[0],c=e[1],d=e[2],l=0,h=[];l<o.length;l++)n=o[l],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&h.push(i[n][0]),i[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"18d0":function(t){t.exports=JSON.parse('{"a":["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burma","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Congo (Brazzaville)","Congo (Kinshasa)","Costa Rica","Cote d\'Ivoire","Croatia","Cuba","Cyprus","Czechia","Denmark","Diamond Princess","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Holy See","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Korea, South","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","MS Zaandam","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Macedonia","Norway","Oman","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Somalia","South Africa","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan*","Tanzania","Thailand","Timor-Leste","Togo","Trinidad and Tobago","Tunisia","Turkey","US","Uganda","Ukraine","United Arab Emirates","United Kingdom","Uruguay","Uzbekistan","Venezuela","Vietnam","West Bank and Gaza","Western Sahara","Yemen","Zambia","Zimbabwe"],"b":["2020-01-22","2020-01-23","2020-01-24","2020-01-25","2020-01-26","2020-01-27","2020-01-28","2020-01-29","2020-01-30","2020-01-31","2020-02-01","2020-02-02","2020-02-03","2020-02-04","2020-02-05","2020-02-06","2020-02-07","2020-02-08","2020-02-09","2020-02-10","2020-02-11","2020-02-12","2020-02-13","2020-02-14","2020-02-15","2020-02-16","2020-02-17","2020-02-18","2020-02-19","2020-02-20","2020-02-21","2020-02-22","2020-02-23","2020-02-24","2020-02-25","2020-02-26","2020-02-27","2020-02-28","2020-02-29","2020-03-01","2020-03-02","2020-03-03","2020-03-04","2020-03-05","2020-03-06","2020-03-07","2020-03-08","2020-03-09","2020-03-10","2020-03-11","2020-03-12","2020-03-13","2020-03-14","2020-03-15","2020-03-16","2020-03-17","2020-03-18","2020-03-19","2020-03-20","2020-03-21","2020-03-22","2020-03-23","2020-03-24","2020-03-25","2020-03-26","2020-03-27","2020-03-28","2020-03-29","2020-03-30","2020-03-31","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-07","2020-04-08","2020-04-09","2020-04-10","2020-04-11","2020-04-12","2020-04-13","2020-04-14","2020-04-15","2020-04-16","2020-04-17","2020-04-18","2020-04-19","2020-04-20","2020-04-21","2020-04-22","2020-04-23","2020-04-24"]}')},"1e60":function(t,e,a){"use strict";var s=a("3e18"),i=a.n(s);i.a},"3bbe":function(t,e,a){},"3e18":function(t,e,a){},"44e9":function(t,e,a){},"4d9b":function(t,e,a){"use strict";var s=a("3bbe"),i=a.n(s);i.a},"55db":function(t,e,a){"use strict";var s=a("8775"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("5997"),a("a979"),a("97c9"),a("f70b");var s=a("f5d4"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"logo"}}),a("div",{staticClass:"app-header"},[t._l(t.columns,(function(e,s){return a("div",{key:s,style:t.columnWidthStyle(s)},[0===s?a("div",{staticClass:"mode-select"},[a("span",{staticClass:"symbol",attrs:{"data-select":t.snapshotMode===t.SNAPSHOT_BOTH,title:"Total & New Cases"},on:{click:function(e){return t.setSnapshotMode(t.SNAPSHOT_BOTH)}}},[t._v(" ∑"),a("span",{staticClass:"ampersand"},[t._v("&")]),t._v("Δ")]),a("span",{staticClass:"symbol",attrs:{"data-select":t.snapshotMode===t.SNAPSHOT_TOTAL,title:"Total Cases"},on:{click:function(e){return t.setSnapshotMode(t.SNAPSHOT_TOTAL)}}},[t._v(" ∑ ")]),a("span",{staticClass:"symbol",attrs:{"data-select":t.snapshotMode===t.SNAPSHOT_CHANGE,title:"New Cases (daily)"},on:{click:function(e){return t.setSnapshotMode(t.SNAPSHOT_CHANGE)}}},[t._v(" Δ ")])]):a("div",{staticClass:"indicator"},[a("div",{staticClass:"numbers"},[a("span",{class:e.field},[t._v(t._s(t.nFormat(t.currents[e.field])))]),a("span",{staticClass:"divider"}),a("span",{class:e.dField},[t._v(t._s(t.dFormat(t.currents[e.dField])))])]),a("div",{staticClass:"heading"},[t._v(t._s(e.title)+" Cases")])])])})),a("div",{staticClass:"indicator date"},[a("div",{staticClass:"human-date"},[t._v(t._s(t.humanDate))]),a("div",{staticClass:"heading"},[t._v("as "+t._s(t.distDate))])]),a("div",{staticClass:"mode-select"},[a("span",{staticClass:"symbol",attrs:{"data-select":t.timeseriesMode===t.TIMESERIES_COMBINED,title:"Combined"},on:{click:function(e){return t.setTimeseriesMode(t.TIMESERIES_COMBINED)}}},[t._v(" + ")]),a("span",{staticClass:"symbol",attrs:{"data-select":t.timeseriesMode===t.TIMESERIES_COMPARED,title:"Compared"},on:{click:function(e){return t.setTimeseriesMode(t.TIMESERIES_COMPARED)}}},[t._v(" ÷ ")]),a("span",{staticClass:"symbol",attrs:{"data-select":t.timeseriesMode===t.TIMESERIES_BOTH,title:"Both"},on:{click:function(e){return t.setTimeseriesMode(t.TIMESERIES_BOTH)}}},[t._v(" +"),a("span",{staticClass:"ampersand"},[t._v("&")]),t._v("÷")])]),a("div",{staticClass:"countries"},t._l(t.currentCountries,(function(e,s){return a("span",{key:e,staticClass:"country",style:{"background-color":t.palette[s]}},[t._v(" "+t._s(e)+" ")])})),0)],2),a("div",{staticClass:"app-body"},[a("Grid",{attrs:{id:"grid",mode:t.snapshotMode},on:{change:t.gridChange,resetCountries:t.resetCountries,toggleCountry:t.toggleCountry}}),a("div",{staticClass:"scrolled",attrs:{id:"charts-wrapper"}},[a("div",{attrs:{id:"charts"}},[a("Chart",{attrs:{title:"Total Confirmed",selectedMeasures:["deceased","recovered","active"],height:180,width:t.chartWidth,mode:t.timeseriesMode,focusDateIdx:t.focusDateIdx,initialChartWidth:t.initialChartWidth},on:{selectDate:t.selectDate}}),a("Chart",{attrs:{title:"Daily Deceased",selectedMeasures:["dDeceased"],height:90,width:t.chartWidth,mode:t.timeseriesMode,focusDateIdx:t.focusDateIdx,initialChartWidth:t.initialChartWidth},on:{selectDate:t.selectDate}}),a("Chart",{attrs:{title:"Daily Recovered",selectedMeasures:["dRecovered"],height:90,width:t.chartWidth,mode:t.timeseriesMode,focusDateIdx:t.focusDateIdx,initialChartWidth:t.initialChartWidth},on:{selectDate:t.selectDate}}),a("Chart",{attrs:{title:"Daily Active",selectedMeasures:["dActive"],height:90,width:t.chartWidth,mode:t.timeseriesMode,focusDateIdx:t.focusDateIdx,initialChartWidth:t.initialChartWidth},on:{selectDate:t.selectDate}})],1)])],1)])},r=[],n=(a("c09b"),a("93b8")),o=a("4b3d"),c=a("8124"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grid"},[a("div",{staticClass:"grid-header"},[a("label",{staticClass:"tickbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.countryReset,expression:"countryReset"}],attrs:{title:"Clear country selection",type:"checkbox",value:"false"},domProps:{checked:Array.isArray(t.countryReset)?t._i(t.countryReset,"false")>-1:t.countryReset},on:{click:function(e){return e.preventDefault(),t.resetCountries(e)},change:function(e){var a=t.countryReset,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r="false",n=t._i(a,r);s.checked?n<0&&(t.countryReset=a.concat([r])):n>-1&&(t.countryReset=a.slice(0,n).concat(a.slice(n+1)))}else t.countryReset=i}}}),a("span")]),t._l([0,1,2,3,4],(function(e){return a("div",{key:e,staticClass:"heading",style:t.columnWidthStyle(e)},[a("span",[t._v(t._s(t.modeHeading(e)))]),a("div",{staticClass:"sorter",class:t.sorterCls(e)},[a("span",{on:{click:function(a){return t.setSorter(e,1)}}},[t._v("▼")]),a("span",{on:{click:function(a){return t.setSorter(e,2)}}},[t._v("▲")])])])}))],2),a("div",{staticClass:"rows-wrapper scrolled"},t._l(t.sortedRows,(function(e){return a("row",{key:e.country,attrs:{row:e,mode:t.mode},on:{toggleCountry:t.toggleCountry}})})),1)])},u=[],l=(a("541a"),a("e51e")),h=a.n(l),m=a("ed6a"),f=(a("6f23"),a("be7f"),a("f944"),a("f8cf"),a("ea49")),b=a("f351"),p=a.n(b),v=a("2e31"),g=a("18d0"),w=(a("1d82"),a("f388"),a("8d9f")),y=a.n(w),j=Object(m["reduce"])(g["b"],(function(t,e,a){return t[e]=a,t}),{}),C=["country","date","dateIndex"],S=["confirmed","dConfirmed","d2Confirmed","deceased","dDeceased","d2Deceased","recovered","dRecovered","d2Recovered","active","dActive","d2Active"],x=C.concat(S),_={0:"Total",1:"Total",2:"New"},M={0:"none",1:"desc",2:"asc"},D=[{field:"country",title:"Country",symbol:""},{field:"confirmed",title:"Confirmed",dField:"dConfirmed",symbol:""},{field:"deceased",title:"Deceased",dField:"dDeceased",symbol:"†"},{field:"recovered",title:"Recovered",dField:"dRecovered",symbol:"♥"},{field:"active",title:"Active",dField:"dActive",symbol:"⌂"}],O={};Object(m["each"])(D,(function(t){var e=t.field,a=t.title,s=t.dField,i=t.symbol;O[e]={field:e,title:"Total ".concat(a),symbol:'<span class="legend">∑'.concat(i,"</span>")},O[s]={field:s,title:"Daily ${title}",symbol:'<span class="legend">Δ'.concat(i,"</span>")}}));var k=(new Intl.NumberFormat).format,W=function(t){return y()(t).format("0.0a")},T=function(t){return k(t)},N=function(t){var e=k(t);return t<=0?e:"+".concat(e)},V=3,E=function(t){var e=Math.pow(10,Math.floor(Math.log10(t-1))),a=t/V;return a<e&&(e/=10),Math.floor(a/e)*e},I=["#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],A=0,R=1,B=2,z=0,P=1,H=2,L=null,G=["d2Confirmed","d2Deceased","d2Recovered","d2Active"];function F(){return Y.apply(this,arguments)}function Y(){return Y=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!L){t.next=2;break}return t.abrupt("return",L);case 2:return t.next=4,p.a.get("data/covid-19.arrow",{responseType:"arraybuffer"});case 4:return e=t.sent,a=e.data,t.next=8,v["a"].from([a]);case 8:return L=t.sent,t.abrupt("return",L);case 10:case"end":return t.stop()}}),t)}))),Y.apply(this,arguments)}function $(t,e,a,s){Object(m["each"])(a,(function(a){s[a]=t[a](e)}))}function X(t,e,a,s,i){Object(m["each"])(S,(function(r){var n=t[r](e),o=s[r];a[r]=n,i&&i(n,r),o.min>n?o.min=n:o.max<n&&(o.max=n),o.sum+=n,o.count++}))}function K(t,e){"string"===typeof t&&(t=j[t]);var a=[],s={},i={},r={},n=t-e-1,o={max:Number.MIN_SAFE_INTEGER,min:Number.MAX_SAFE_INTEGER,sum:0,count:0},c=v["b"].col("dateIndex").ge(n).and(v["b"].col("dateIndex").le(t));return Object(m["each"])(S,(function(t){i[t]=Object(m["clone"])(o)})),L.filter(c).scan((function(e){var n={__mean__:{},selected:!1},o=s.dateIndex(e),c=s.country(e);r[c]||(r[c]={history:[],row:null}),o===t?($(s,e,C,n),X(s,e,n,i),r[c].history.push(n),r[c].row=n,a.push(n)):($(s,e,S,n),r[c].history.push(n))}),(function(t){Object(m["each"])(x,(function(e){s[e]=v["b"].col(e).bind(t)}))})),Object(m["each"])(r,(function(t,e){var a=t.history,s=t.row;r[e].means={},Object(m["each"])(G,(function(t){var i=Object(m["meanBy"])(a,t);r[e].means[t]=i,s.__mean__[t]=i}))})),{rows:a,stats:i,ext:r}}function U(){var t,e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=Object(f["a"])(a),i=s[0],r=s.slice(1),n={max:Number.MIN_SAFE_INTEGER,min:Number.MAX_SAFE_INTEGER,sum:0,count:0,maxSum:Number.MIN_SAFE_INTEGER,minSum:Number.MAX_SAFE_INTEGER},o={},c=[],d={};return Object(m["each"])(S,(function(t){o[t]=Object(m["clone"])(n)})),Object(m["each"])(g["b"],(function(t){var e=j[t];c[e]={sum:{},countries:{}},Object(m["each"])(S,(function(t){c[e].sum[t]=0}))})),i?(e=Object(m["reduce"])(r,(function(t,e){return t.or(v["b"].col("country").eq(e))}),v["b"].col("country").eq(i)),t=L.filter(e)):t=L,t.scan((function(t){var e={},a=d.dateIndex(t),s=d.country(t);$(d,t,C,e),Object(m["each"])(S,(function(s){var i=d[s](t),r=o[s];e[s]=i,r.min>i?r.min=i:r.max<i&&(r.max=i),r.sum+=i,r.count++;var n=c[a].sum[s]+i;r.maxSum<n&&(r.maxSum=n),r.minSum>n&&(r.minSum=n),c[a].sum[s]=n})),c[a].countries[s]=e}),(function(t){Object(m["each"])(x,(function(e){d[e]=v["b"].col(e).bind(t)}))})),{stats:o,series:c}}var q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("label",{staticClass:"tickbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.row.selected,expression:"row.selected"}],attrs:{type:"checkbox",value:"row.country"},domProps:{checked:Array.isArray(t.row.selected)?t._i(t.row.selected,"row.country")>-1:t.row.selected},on:{click:t.toggleCountry,change:function(e){var a=t.row.selected,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r="row.country",n=t._i(a,r);s.checked?n<0&&t.$set(t.row,"selected",a.concat([r])):n>-1&&t.$set(t.row,"selected",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.row,"selected",i)}}}),a("span")]),a("div",{staticClass:"country",style:t.columnWidthStyle(0),attrs:{title:t.row.country},on:{click:t.toggleCountry}},[t._v(" "+t._s(t.row.country)+" ")]),a("cell",{staticClass:"confirmed",attrs:{log:!1,row:t.row,value:t.row.confirmed,dValue:t.row.dConfirmed,d2Value:t.row.__mean__.d2Confirmed,maxValue:t.rowStats["confirmed"].max,maxDValue:t.rowStats["dConfirmed"].max,minValue:t.rowStats["confirmed"].min,minDValue:t.rowStats["dConfirmed"].min,barWidth:t.barWidths[1],labelWidth:t.labelWidth,mode:t.mode}}),a("cell",{staticClass:"deceased",attrs:{log:!1,row:t.row,value:t.row.deceased,dValue:t.row.dDeceased,d2Value:t.row.__mean__.d2Deceased,maxValue:t.rowStats["deceased"].max,maxDValue:t.rowStats["dDeceased"].max,minValue:t.rowStats["deceased"].min,minDValue:t.rowStats["dDeceased"].min,barWidth:t.barWidths[2],labelWidth:t.labelWidth,mode:t.mode}}),a("cell",{staticClass:"recovered",attrs:{log:!1,row:t.row,value:t.row.recovered,dValue:t.row.dRecovered,d2Value:t.row.__mean__.d2Recovered,maxValue:t.rowStats["recovered"].max,maxDValue:t.rowStats["dRecovered"].max,minValue:t.rowStats["recovered"].min,minDValue:t.rowStats["dRecovered"].min,barWidth:t.barWidths[3],labelWidth:t.labelWidth,mode:t.mode}}),a("cell",{staticClass:"active",attrs:{log:!1,row:t.row,value:t.row.active,dValue:t.row.dActive,d2Value:t.row.__mean__.d2Active,maxValue:t.rowStats["active"].max,maxDValue:t.rowStats["dActive"].max,minValue:t.rowStats["active"].min,minDValue:t.rowStats["dActive"].min,barWidth:t.barWidths[4],labelWidth:t.labelWidth,mode:t.mode}})],1)},J=[],Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cell",style:{width:t.allWidth+"px"}},[t.showValue?a("div",{staticClass:"value-label",style:{width:t.labelWidth+"px"}},[t._v(" "+t._s(t.nFormat(t.value))+" ")]):t._e(),t._e(),a("div",{staticClass:"bars"},[t.showValue?a("div",{staticClass:"value bar",style:{width:t.valueWidthPx}}):t._e(),t.showDValue?a("div",{staticClass:"d-value bar",class:t.dValueBarCls,style:{width:t.dValueWidthPx}}):t._e(),t.showDValue?a("div",{staticClass:"d-value-label"},[t._v(" "+t._s(t.dFormat(t.dValue))+" "),a("span",{staticClass:"symbol"},[t.d2Value<0?a("span",[t._v("↓")]):t._e(),0===t.d2Value?a("span",[t._v("→")]):t._e(),t.d2Value>0?a("span",[t._v("↑")]):t._e()])]):t._e()])])},Q=[],tt={name:"Cell",props:{log:Boolean,row:Object,value:Number,dValue:Number,d2Value:Number,minValue:Number,maxValue:Number,minDValue:Number,maxDValue:Number,barWidth:Number,labelWidth:Number,mode:Number},created:function(){},computed:{dValueBarCls:function(){return this.dValue<0?"negative":""},allWidth:function(){return this.barWidth+2*this.labelWidth+2},showValue:function(){return this.value>0&&this.mode<2},showDValue:function(){return 0!==this.dValue&&1!==this.mode},currentMax:function(){return 2===this.mode?Object(m["max"])([this.maxDValue,Math.abs(this.minDValue),1]):Object(m["max"])([this.maxValue,Math.abs(this.minValue),1])},valueWidth:function(){var t=this.calcWidth(this.value);return 0===this.mode&&this.dValue>0&&(t-=this.dValueWidth),t<=0&&(t=1),t},dValueWidth:function(){var t=this.calcWidth(Math.abs(this.dValue));return t<=0&&(t=1),t},valueWidthPx:function(){return"".concat(this.valueWidth,"px")},dValueWidthPx:function(){return"".concat(this.dValueWidth,"px")}},mounted:function(){},methods:{nFormat:T,dFormat:N,calcWidth:function(t){return Math.ceil(t*this.barWidth/this.currentMax)}}},et=tt,at=(a("1e60"),a("7edf")),st=Object(at["a"])(et,Z,Q,!1,null,null,null),it=st.exports,rt={data:function(){return{labelWidth:45,barWidths:[70,60,60,60,60]}},methods:{columnWidthStyle:function(t){var e;return e=t?this.barWidths[t]+2*this.labelWidth+2:this.barWidths[t],e+="px",{width:e}}}},nt={name:"Row",props:{log:Boolean,row:Object,mean:Object,mode:Number},mixins:[rt],components:{Cell:it},computed:Object(o["a"])({},Object(c["b"])(["rowStats"])),data:function(){return{barWidth:80,dWidth:40,checked:!1}},watch:{checked:function(){this.$emit("select",this.row.country,this.checked)}},mounted:function(){},methods:{toggleCountry:function(){this.$emit("toggleCountry",this.row.country)}}},ot=nt,ct=(a("55db"),Object(at["a"])(ot,q,J,!1,null,null,null)),dt=ct.exports,ut={name:"Grid",mixins:[rt],components:{Row:dt},props:{mode:Number,msg:String},data:function(){return{countryReset:!1,sortedRows:[],currentSorter:1,sorters:[0,1,0,0,0]}},computed:Object(o["a"])({},Object(c["b"])(["rows","rowStats","currentDate","currentCountries"])),watch:{mode:function(){this.updateSorted()},rows:function(){this.updateSorted(),this.$emit("change",this.rowStats)}},methods:{updateSorted:function(){var t=this.currentSorter,e=this.sorters[t],a=1===e?"desc":"asc",s=2===this.mode?D[t].dField:D[t].field;this.sortedRows=Object(m["orderBy"])(this.rows,s,a)},setSorter:function(t,e){var a=this.sorters;this.mode;this.currentSorter=t,Object(m["each"])(a,(function(s,i){a[i]=i===t?e:0})),this.updateSorted()},modeHeading:function(t){if(!t)return"Country";var e="".concat(_[this.mode]);return this.mode||(e+=" (±New)"),e},headingWidthStyle:function(t){var e=this.barWidths[t]+2*this.labelWidth+2;return e+="px",{width:e}},sorterCls:function(t){var e=this.sorters[t];return M[e]},resetCountries:function(){this.countryReset=!1,this.$emit("resetCountries")},toggleCountry:function(t){this.$emit("toggleCountry",t)}},mounted:function(){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}},lt=ut,ht=(a("ed9a"),Object(at["a"])(lt,d,u,!1,null,null,null)),mt=ht.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart"},[a("div",{staticClass:"header"},[a("span",{staticClass:"vertical",style:{width:t.effectiveHeight+"px"}},[t._v(t._s(t.title))])]),a("svg",{staticClass:"chart-svg",attrs:{width:t.effectiveWidth+"px",height:t.effectiveHeight+"px"}},[t._l(t.gridY,(function(e,s){return a("g",{key:"grid-"+s},[a("path",{staticClass:"grid",attrs:{d:e.d}}),a("text",{attrs:{x:""+(t.widthX+3),y:""+e.y}},[t._v(t._s(e.v))])])})),t._l(t.bars,(function(e,s){var i=e.x,r=(e.date,e.stacks),n=(e.month,e.tick,e.highlight);return a("g",{key:s},[a("g",{on:{mouseover:function(e){return t.tipOn(s,e)},mouseout:function(e){return t.tipOff(s,e)},click:function(e){return t.selectBar(s,e)}}},[a("rect",{staticClass:"base",class:"hi-"+n,attrs:{"data-index":s,fill:"transparent",x:i,y:0,width:t.barWidth,height:t.maxY}}),a("rect",{attrs:{fill:"transparent",x:i+t.barWidth,y:0,width:1,height:t.maxY}})]),t._l(t.selectedMeasures,(function(e){return a("rect",{directives:[{name:"show",rawName:"v-show",value:t.showBars,expression:"showBars"}],key:"r-"+e,staticClass:"bar",class:e,attrs:{"data-negative":r[e].v<0,x:i,y:r[e].y,width:r[e].w,height:r[e].h,opacity:t.showLines?.2:1}})}))],2)})),t._l(t.bars,(function(e,s){var i=e.x,r=(e.date,e.month),n=e.tick;return a("g",{key:"tick-"+s},[r?a("line",{staticClass:"tickMonth",attrs:{x1:i+t.barWidth/2+"px",y1:t.maxY+"px",x2:i+t.barWidth/2+"px",y2:t.dateY-9+"px"}}):t._e(),r?a("text",{staticStyle:{"text-anchor":"middle"},attrs:{x:i+t.barWidth/2+"px",y:t.dateY+"px",width:"100px"}},[t._v(" "+t._s(r)+" ")]):t._e(),n?a("line",{staticClass:"tick",attrs:{x1:i+t.barWidth/2+"px",y1:t.maxY+"px",x2:i+t.barWidth/2+"px",y2:t.maxY+4+"px"}}):t._e()])})),a("path",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"line",attrs:{d:t.path}}),t._l(t.countryPaths,(function(e,s){return a("path",{directives:[{name:"show",rawName:"v-show",value:t.showLines,expression:"showLines"}],key:"country-path-"+s,staticClass:"line",attrs:{d:e.d,stroke:e.color}})}))],2),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isTipping,expression:"isTipping"}],staticClass:"tip",style:t.tipStyle,domProps:{innerHTML:t._s(t.tipContent)}})])},bt=[],pt=(a("d486"),{name:"Chart",props:{countriesSelected:Array,selectedMeasures:Array,title:String,height:Number,width:Number,mode:Number,initialChartWidth:Number,focusDateIdx:Number},data:function(){return{tickLength:3,dateLabelHeight:10,dateLabelGap:12,dateY:0,ox:0,oy:10,barWidth:0,dateRange:[],dateNum:0,bars:[],path:"",countryPaths:[],gridY:[],widthX:0,minX:0,maxX:3e4,zeroY:0,minY:0,maxY:3e4,minV:0,maxV:0,rangeV:0,isTipping:!1,tipStyle:{},tipWidth:60,tipContent:"",tipCache:{},showLines:!1,showBars:!0,effectiveWidth:0,effectiveHeight:0,tipTimeout:null}},mounted:function(){},computed:Object(o["a"])({},Object(c["b"])(["dates","series","seriesStats","currentDate","currentDateIdx","currentCountries"])),methods:{selectBar:function(t,e){e.target;var a,s=this.bars[t],i=(s.stacks,s.date),r=(s.dateIndex,s.highlight);a=2!==r?2:0,this.$emit("selectDate",i,a)},tipOn:function(t,e){var a=this.barWidth,s=this.bars,i=this.selectedMeasures,r=this.oy,n=this.ox,o=s[t],c=o.stacks,d=o.dateTip,u=o.date,l=o.dateIndex,h=e.target,f=(h.parentElement.parentElement,this.tipCache[t]),b=f||{},p=b.tipStyle,v=b.tipContent;if(this.$emit("selectDate",u,1,l),!f){var g=parseInt(h.getAttribute("x"));parseInt(h.getAttribute("y"));p={left:"".concat(g+a+n+27,"px"),top:"".concat(r,"px")},v=d+"<br />",Object(m["each"])(i,(function(t){var e=c[t].v;e=t.startsWith("d")?N(e):T(e),v+="".concat(O[t].symbol," ").concat(e,"<br />")})),this.tipCache[t]={tipContent:v,tipStyle:p}}this.tipStyle=p,this.tipContent=v,this.isTipping=!0},tipOff:function(t,e){var a=this,s=this.bars[t];this.$emit("selectDate",s.date,-1,s.dateIndex),a.isTipping=!1},calcContext:function(){var t=this.oy,e=this.width,a=this.height,s=this.tickLength,i=this.dates,r=this.currentCountries,n=this.dateLabelGap,o=this.selectedMeasures,c=this.seriesStats,d=this.tipWidth,u=this.mode,l=0,h=0,f=0,b=0;Object(m["each"])(o,(function(t){var e=c[t],a=e.maxSum,s=e.minSum,i=e.max,r=e.min;l+=a,h+=s,b+=i,f+=r})),u===P&&r.length?(h=f,l=b):u===H&&r.length&&(f<h&&(h=f),b>l&&(l=b)),l<0&&(l=0);var p=l-h;this.zeroY=t+Math.ceil(l*a/p),this.maxV=l,this.minV=h,this.rangeV=p,this.minY=t,this.maxY=t+a,this.dateY=t+a+s+n,this.dateRange=i;var v=i.length;this.dateNum=v,e=this.initialChartWidth;var g=Math.floor((e-d)/v);g%2!==0&&(g-=1),g<6&&(g=6),this.widthX=v*g,g-=1,this.barWidth=g,this.effectiveWidth=this.widthX+d,this.effectiveHeight=this.dateY+this.dateLabelHeight},calcGrid:function(){var t=this.ox,e=(this.oy,this.height,this.widthX),a=this.selectedMeasures,s=this.maxV,i=this.minV,r="confirmed";1===a.length&&(r=a[0]);var n=E(s),o=Math.ceil(i/n),c=o<0?o*n:0,d=[];do{var u=this.zeroY-this.mapVtoH(c,r);d.push({v:W(c),y:u,d:"M".concat(t," ").concat(u," L").concat(e," ").concat(u)}),c+=n}while(c<s);this.gridY=d},mapVtoH:function(t,e){var a=this.height,s=this.rangeV,i=!1,r=Math.ceil(t*a/s);if(i&&e){var n=this.seriesStats[e].maxSum;r=Math.ceil(Math.log10(t+1)*a*n/(s*Math.log10(n+1)))}return r},calcBars:function(){var t=this,e=(this.height,this.barWidth),a=this.ox,s=(this.oy,this.selectedMeasures),i=this.dates,r=this.currentCountries,n=(this.maxV,a),o=[],c="",d=Object(m["last"])(s),u={};Object(m["each"])(r,(function(t,e){u[t]={d:"",color:I[e%I.length]}})),Object(m["each"])(i,(function(a,i){var l=t.zeroY,f={},b=h()(a),p=b.date(),v=b.day(),g=b.format("D MMM"),w=null,y=!1;1===p&&(w=b.format("MMM")),1===v&&(y=!0),Object(m["each"])(s,(function(s){var r=t.series[i].sum[s],o=t.mapVtoH(r,s);l-=o,f[s]={x:n,y:o<0?t.zeroY:l,w:e,h:Math.abs(o),v:r,date:a}}));var j={dateTip:g,date:a,dateIndex:i,x:n,stacks:f,month:w,tick:y,highlight:0};o.push(j);var C=n+e/2,S=f[d].y;0===i?c="M".concat(C," ").concat(S," "):c+="L".concat(C," ").concat(S," ");var x=t.series[i].countries;0===i?Object(m["each"])(r,(function(e){var a=x[e];S=t.zeroY-t.mapVtoH(a[d]),u[e].d+="M".concat(C," ").concat(S," ")})):Object(m["each"])(r,(function(e){var a=x[e];S=t.zeroY-t.mapVtoH(a[d]),u[e].d+="L".concat(C," ").concat(S," ")})),n+=e+1})),this.path=c,this.bars=o,this.countryPaths=u},refresh:function(){this.calcContext(),this.calcBars(),this.calcGrid(),this.updateForCurrentDate()},updateMode:function(){if(0===this.currentCountries.length)return this.showLines=!1,void(this.showBars=!0);switch(this.mode){case z:this.showLines=!1,this.showBars=!0;break;case P:this.showLines=!0,this.showBars=!1;break;default:this.showLines=!0,this.showBars=!0}},updateForCurrentDate:function(){var t=this;Object(m["each"])(this.bars,(function(e){e.date===t.currentDate?t.$set(e,"highlight",2):2===e.highlight&&t.$set(e,"highlight",0)}))}},watch:{focusDateIdx:function(t,e){var a;e>0&&(a=this.bars[e],2!==a.highlight&&this.$set(a,"highlight",0)),t>0&&(a=this.bars[t],2!==a.highlight&&this.$set(a,"highlight",1))},currentDate:function(){this.updateForCurrentDate()},seriesStats:function(){this.refresh()},mode:function(){this.updateMode(),this.refresh()},currentCountries:function(){this.updateMode()}}}),vt=pt,gt=(a("4d9b"),Object(at["a"])(vt,ft,bt,!1,null,"7070bb08",null)),wt=gt.exports,yt={name:"App",mixins:[rt],components:{Grid:mt,Chart:wt},data:function(){return{palette:I,SNAPSHOT_BOTH:A,SNAPSHOT_TOTAL:R,SNAPSHOT_CHANGE:B,TIMESERIES_COMBINED:z,TIMESERIES_COMPARED:P,TIMESERIES_BOTH:H,humanDate:"",distDate:"",columns:D,chartWidth:700,snapshotMode:0,timeseriesMode:0,selectedCountries:[],initialChartWidth:0,colWidths:[],focusDateIdx:null,currents:{confirmed:0,dConfirmed:0,deceased:0,dDeceased:0,recovered:0,dRecovered:0,active:0,dActive:0}}},computed:Object(o["a"])({},Object(c["b"])(["rows","rowStats","series","totalStats","currentDate","currentCountries"])),created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.initialChartWidth=screen.width-20-700,e.next=3,t.$store.dispatch("pull");case 3:t.$store.dispatch("getSnapshot"),t.$store.dispatch("getTimeseries");case 5:case"end":return e.stop()}}),e)})))()},watch:{currentDate:function(){this.updateCurrentDate(),this.updateMainStats()}},mounted:function(){},methods:{selectDate:function(t,e,a){2===e?this.$store.dispatch("getSnapshot",t,a):0===e?this.$store.dispatch("getSnapshot"):this.focusDateIdx=-1===e?-1:a},setTimeseriesMode:function(t){this.timeseriesMode=t},setSnapshotMode:function(t){this.snapshotMode=t},updateCurrentDate:function(){var t=h()(this.currentDate);this.humanDate=t.format("ddd, D MMM YY");var e=h.a.duration(t.diff(h()().format("YYYY-MM-DD"))).asDays();e=0===e?"today":h.a.duration(-Math.abs(e),"days").humanize(!0),this.distDate=e},updateMainStats:function(){var t=this;Object(m["each"])(this.currents,(function(e,a){t.currents[a]=t.totalStats[a]}))},nFormat:T,dFormat:N,gridChange:function(t){},resetCountries:function(){this.$store.dispatch("updateCountries",null)},toggleCountry:function(t){this.$store.dispatch("updateCountries",t)}}},jt=yt,Ct=(a("7faf"),Object(at["a"])(jt,i,r,!1,null,null,null)),St=Ct.exports;s["a"].use(c["a"]);var xt=new c["a"].Store({state:{movingDays:3,table:null,countries:g["a"],dates:g["b"],dateMap:j,currentDate:null,currentDateIdx:0,rows:[],rowMap:{},rowStats:null,currentCountries:[],series:[],seriesStats:null,totalStats:{}},getters:{table:function(t){return t.table},countries:function(t){return t.countries},dates:function(t){return t.dates},dateMap:function(t){return t.dateMap},currentDate:function(t){return t.currentDate},currentDateIdx:function(t){return t.currentDateIdx},rows:function(t){return t.rows},rowMap:function(t){return t.rowMap},rowStats:function(t){return t.rowStats},currentCountries:function(t){return t.currentCountries},series:function(t){return t.series},seriesStats:function(t){return t.seriesStats},totalStats:function(t){return t.totalStats}},mutations:{setTable:function(t,e){t.table=e},setSnapshot:function(t,e){var a=e.currentDate,s=e.currentDateIdx,i=e.rows,r=e.rowStats;t.currentDate=a,t.currentDateIdx=s,t.rows=i;var n=Object(m["keyBy"])(i,"country");Object(m["each"])(t.currentCountries,(function(t){n[t].selected=!0})),t.rowMap=n,t.rowStats=r;var o=t.series;o&&o.length&&(t.totalStats=o[s].sum)},updateCountries:function(t,e){var a=e.country,i=e.selected;a?s["a"].set(t.rowMap[a],"selected",i):Object(m["each"])(t.rowMap,(function(t){t.selected&&s["a"].set(t,"selected",!1)}))},setTimeseries:function(t,e){var a=e.currentCountries,s=e.series,i=e.seriesStats;t.currentCountries=a,t.series=s,t.seriesStats=i,t.totalStats=s[j[t.currentDate]].sum}},actions:{pull:function(t){return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:a=e.sent,t.commit("setTable",a);case 4:case"end":return e.stop()}}),e)})))()},getSnapshot:function(t,e,a){var s=t.state;e||(a=g["b"].length-1,e=g["b"][a]),a||(a=j[e]);var i=K(e,s.movingDays),r=i.rows,n=i.stats;t.commit("setSnapshot",{currentDate:e,currentDateIdx:a,rows:r,rowStats:n})},updateCountries:function(t,e){var a,s,i=t.state,r=i.currentCountries,n=i.rowMap;e?(s=n[e].selected,a=s?Object(m["without"])(r,e):Object(m["union"])(r,[e]),s=!s):a=[],t.commit("updateCountries",{country:e,selected:s}),t.dispatch("getTimeseries",a)},getTimeseries:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=U(e),s=a.series,i=a.stats;t.commit("setTimeseries",{currentCountries:e,series:s,seriesStats:i})}}});s["a"].config.productionTip=!1,new s["a"]({store:xt,render:function(t){return t(St)}}).$mount("#app")},"7faf":function(t,e,a){"use strict";var s=a("44e9"),i=a.n(s);i.a},8775:function(t,e,a){},e0cc:function(t,e,a){},e395:function(t,e,a){var s={"./af":"46fd","./af.js":"46fd","./ar":"7cf8","./ar-dz":"8c1d","./ar-dz.js":"8c1d","./ar-kw":"6820","./ar-kw.js":"6820","./ar-ly":"531b","./ar-ly.js":"531b","./ar-ma":"6807","./ar-ma.js":"6807","./ar-sa":"40a2","./ar-sa.js":"40a2","./ar-tn":"f821","./ar-tn.js":"f821","./ar.js":"7cf8","./az":"8c0f","./az.js":"8c0f","./be":"0623","./be.js":"0623","./bg":"b8ec","./bg.js":"b8ec","./bm":"138a","./bm.js":"138a","./bn":"8f0d","./bn.js":"8f0d","./bo":"79dd","./bo.js":"79dd","./br":"626d","./br.js":"626d","./bs":"5ffa","./bs.js":"5ffa","./ca":"33b8","./ca.js":"33b8","./cs":"1c02","./cs.js":"1c02","./cv":"23d2","./cv.js":"23d2","./cy":"a01e","./cy.js":"a01e","./da":"f9d4","./da.js":"f9d4","./de":"46ad","./de-at":"ddd1","./de-at.js":"ddd1","./de-ch":"3512","./de-ch.js":"3512","./de.js":"46ad","./dv":"42dd","./dv.js":"42dd","./el":"7c20","./el.js":"7c20","./en-SG":"b672","./en-SG.js":"b672","./en-au":"7589","./en-au.js":"7589","./en-ca":"b4e0","./en-ca.js":"b4e0","./en-gb":"05a1e","./en-gb.js":"05a1e","./en-ie":"807a","./en-ie.js":"807a","./en-il":"d67f","./en-il.js":"d67f","./en-nz":"9381","./en-nz.js":"9381","./eo":"f259","./eo.js":"f259","./es":"8a95","./es-do":"0ecd","./es-do.js":"0ecd","./es-us":"2e22","./es-us.js":"2e22","./es.js":"8a95","./et":"7c56","./et.js":"7c56","./eu":"c03b","./eu.js":"c03b","./fa":"27bd","./fa.js":"27bd","./fi":"9ff2","./fi.js":"9ff2","./fo":"0353","./fo.js":"0353","./fr":"f541","./fr-ca":"de0e","./fr-ca.js":"de0e","./fr-ch":"25d7","./fr-ch.js":"25d7","./fr.js":"f541","./fy":"136c","./fy.js":"136c","./ga":"60f6","./ga.js":"60f6","./gd":"207d","./gd.js":"207d","./gl":"0948","./gl.js":"0948","./gom-latn":"6067","./gom-latn.js":"6067","./gu":"2459","./gu.js":"2459","./he":"09e8","./he.js":"09e8","./hi":"8b8a","./hi.js":"8b8a","./hr":"83ee","./hr.js":"83ee","./hu":"9ee0","./hu.js":"9ee0","./hy-am":"f333","./hy-am.js":"f333","./id":"23ac","./id.js":"23ac","./is":"f41b","./is.js":"f41b","./it":"0349","./it-ch":"095e","./it-ch.js":"095e","./it.js":"0349","./ja":"bd8b","./ja.js":"bd8b","./jv":"8265","./jv.js":"8265","./ka":"9c61","./ka.js":"9c61","./kk":"2303","./kk.js":"2303","./km":"5ca7","./km.js":"5ca7","./kn":"855e","./kn.js":"855e","./ko":"0fff","./ko.js":"0fff","./ku":"74af","./ku.js":"74af","./ky":"f76e","./ky.js":"f76e","./lb":"54ca","./lb.js":"54ca","./lo":"6d6a","./lo.js":"6d6a","./lt":"df52","./lt.js":"df52","./lv":"0075","./lv.js":"0075","./me":"1bcf","./me.js":"1bcf","./mi":"195f","./mi.js":"195f","./mk":"31e5","./mk.js":"31e5","./ml":"d926","./ml.js":"d926","./mn":"8e5c","./mn.js":"8e5c","./mr":"e9e0","./mr.js":"e9e0","./ms":"f718","./ms-my":"07db","./ms-my.js":"07db","./ms.js":"f718","./mt":"7277","./mt.js":"7277","./my":"1121","./my.js":"1121","./nb":"c35b","./nb.js":"c35b","./ne":"5416","./ne.js":"5416","./nl":"0330","./nl-be":"054e","./nl-be.js":"054e","./nl.js":"0330","./nn":"5d4e","./nn.js":"5d4e","./pa-in":"8327","./pa-in.js":"8327","./pl":"a284","./pl.js":"a284","./pt":"7f7a","./pt-br":"2dc1","./pt-br.js":"2dc1","./pt.js":"7f7a","./ro":"2d60","./ro.js":"2d60","./ru":"5df3","./ru.js":"5df3","./sd":"5c94","./sd.js":"5c94","./se":"d473","./se.js":"d473","./si":"5010","./si.js":"5010","./sk":"6f1a","./sk.js":"6f1a","./sl":"188e","./sl.js":"188e","./sq":"8639","./sq.js":"8639","./sr":"c1bf","./sr-cyrl":"df8a","./sr-cyrl.js":"df8a","./sr.js":"c1bf","./ss":"d832","./ss.js":"d832","./sv":"4383","./sv.js":"4383","./sw":"f52b","./sw.js":"f52b","./ta":"f6c2","./ta.js":"f6c2","./te":"98c4","./te.js":"98c4","./tet":"c7b4","./tet.js":"c7b4","./tg":"5083","./tg.js":"5083","./th":"8855","./th.js":"8855","./tl-ph":"97e4","./tl-ph.js":"97e4","./tlh":"0d4b","./tlh.js":"0d4b","./tr":"800b","./tr.js":"800b","./tzl":"cfe0","./tzl.js":"cfe0","./tzm":"5f4d","./tzm-latn":"70ce","./tzm-latn.js":"70ce","./tzm.js":"5f4d","./ug-cn":"a4e4","./ug-cn.js":"a4e4","./uk":"b93e","./uk.js":"b93e","./ur":"50c8","./ur.js":"50c8","./uz":"89eb","./uz-latn":"42a6","./uz-latn.js":"42a6","./uz.js":"89eb","./vi":"266e","./vi.js":"266e","./x-pseudo":"5fd0","./x-pseudo.js":"5fd0","./yo":"281c","./yo.js":"281c","./zh-cn":"5fd2","./zh-cn.js":"5fd2","./zh-hk":"76af","./zh-hk.js":"76af","./zh-tw":"d6ed","./zh-tw.js":"d6ed"};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="e395"},ed9a:function(t,e,a){"use strict";var s=a("e0cc"),i=a.n(s);i.a}});
//# sourceMappingURL=app.b75315dc.js.map